<!--
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MorphDetecto Report</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: #f5f5f5; margin: 0; padding: 0; }
        .report-container { width: 50%; margin: auto; background: white; padding: 20px; margin-top: 50px; 
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1); border-radius: 10px; }
        h1 { color: #333; }
        .purple-btn {
            background-color: #800080; /* Purple */
            color: white;
            padding: 10px 15px;
            border: none;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 5px;
            font-size: 16px;
        }
        .purple-btn:hover {
            background-color: #6a0dad; /* Darker purple on hover */
        }
        .section { background: #f1f1f1; padding: 15px; border-radius: 8px; margin-top: 15px; text-align: left; }
        p { font-size: 16px; margin: 5px 0; }
        .footer { margin-top: 20px; font-size: 14px; color: #555; }
    </style>
</head>
<body>
    <div class="report-container">
        <h1>MorphDetecto Report</h1>
        <p>Generated on: <span>{{ result.get('timestamp') }}</span></p>
        
        <div class="section">
            <h2 style="color: #800080;">1. Image Analysis Summary</h2>
            <p><strong>Uploaded Image:</strong> {{ result.filename }}</p>
            <p><strong>Image Format:</strong> JPEG</p>
            <p><strong>Resolution:</strong> 1024 x 768</p>
            <p><strong>Processing Time:</strong> 2.5 seconds</p>
        </div>

        <div class="section">
            <h2 style="color: #800080;">2. Detection Results</h2>
            <p><strong>Morphing Percentage:</strong> {{ result.morphed_percentage }}%</p>
            <p><strong>Original Percentage:</strong> {{ result.original_percentage }}%</p>
            <p><strong>Classification:</strong> {{ result.result }}</p>
        </div>

        <div class="footer">
            <p>⭐ Generated by: <strong>MorphDetecto</strong> | Report ID: #{{ result.get('report_id', '12345') }}</p>
        </div>

        <button class="purple-btn" onclick="downloadReport()">Download Report</button>
    </div>

    <script>
        function downloadReport() {
            let reportHTML = document.documentElement.outerHTML;
            let blob = new Blob([reportHTML], { type: "text/html" });
            let link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = "MorphDetecto_Report.html";
            link.click();
        }
    </script>
</body>
</html>
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MorphDetecto Report</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: #f5f5f5; margin: 0; padding: 0; }
        .report-container { width: 50%; margin: auto; background: white; padding: 20px; margin-top: 50px; 
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1); border-radius: 10px; }
        h1 { color: #333; }
        .purple-btn {
            background-color: #800080; /* Purple */
            color: white;
            padding: 10px 15px;
            border: none;
            cursor: pointer;
            margin-top: 10px;
            border-radius: 5px;
            font-size: 16px;
        }
        .purple-btn:hover {
            background-color: #6a0dad; /* Darker purple on hover */
        }
        .section { background: #f1f1f1; padding: 15px; border-radius: 8px; margin-top: 15px; text-align: left; }
        p { font-size: 16px; margin: 5px 0; }
        .footer { margin-top: 20px; font-size: 14px; color: #555; }
    </style>
</head>
<body>
    <div class="report-container">
        <h1>MorphDetecto Report</h1>
        <p>Generated on: <span>{{ result.get('timestamp') }}</span></p>
        
        <div class="section">
            <h2 style="color: #800080;">1. Image Analysis Summary</h2>
            <p><strong>Uploaded Image:</strong> {{ result.filename }}</p>
            <p><strong>Image Format:</strong> JPEG</p>
            <p><strong>Resolution:</strong> 1024 x 768</p>
            <p><strong>Processing Time:</strong> 2.5 seconds</p>
        </div>

        <div class="section">
            <h2 style="color: #800080;">2. Detection Results</h2>
            <p><strong>Morphing Percentage:</strong> {{ result.morphed_percentage }}%</p>
            <p><strong>Original Percentage:</strong> {{ result.original_percentage }}%</p>
            <p><strong>Classification:</strong> {{ result.result }}</p>
        </div>

        <div class="footer">
            <p>⭐ Generated by: <strong>MorphDetecto</strong> | Report ID: #{{ result.get('report_id', '12345') }}</p>
        </div>

        <button id="downloadBtn" class="purple-btn" onclick="downloadReport()">Download Report</button>
    </div>

    <script>
        function downloadReport() {
            let reportContainer = document.querySelector('.report-container');
            let downloadButton = document.getElementById("downloadBtn");

            // Remove the button before downloading
            downloadButton.style.display = "none";

            let reportHTML = document.documentElement.outerHTML;
            let blob = new Blob([reportHTML], { type: "text/html" });
            let link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = "MorphDetecto_Report.html";
            link.click();
        }
    </script>
</body>
</html>

